
(function(e,h,i,b){var g="tiktok",c={animateSpeed:400,delay:200,themeColor:"#0082e5",titleColor:"#0082e5",status:"default",position:"top",type:null,content:{title:"tip_title",content:"tip_content",picurl:null},buttonCancel:"Cancel",buttonConfirm:"OK",headerAlign:"center",contentAlign:"center",ajaxContentUrl:null,onConfirm:null,onCancel:null,onBeforeShow:null,onShow:null,onHide:null};function l(o,n){this.element=e(o);this.settings=e.extend({},c,n);this._defaults=c;this._name=g;this.mode="hide";this.init();}e.extend(l.prototype,{init:function(){var o=this,n=this.element;switch(o.settings.type){case"floattip":if(k()){n.on("click."+g,function(p){o.mode=="hide"?o.show():o.hide();p.stopPropagation();});e(i).on("click",function(){if(o.mode=="show"){o.hide();}});}else{n.on("mouseover."+g,function(){o.show();});n.on("mouseout."+g,function(){o.hide();});}break;default:break;}},tooltip:function(){var n=this;if(!this.tiktok_bubble){switch(n.settings.type){case"floattip":this.tiktok_bubble=e('<div id="tiktok-float" class="tiktok"><p class="tt-'+n.settings.position+'"></p></div>');break;case"poptip":this.tiktok_bubble=e('<div id="tiktok-tip" class="tiktok tt-status-'+n.settings.status+" tiktok-float-"+n.settings.position+'"><p></p><a href="javascript:void(0);" class="tt-close"></a></div>');break;case"poptext":this.tiktok_bubble=e('<div id="tiktok-pop" class="tiktok"><div class="tt-bg"></div><div class="tt-box tt-text"><div class="tt-box-header"></div><p></p><div class="tt-button"><a href="javascript:void(0);" id="tt-btn-cancel" class="tt-status-default tt-button-single">'+n.settings.buttonConfirm+"</a></div></div></div>");break;case"popload":if(n.settings.content.picurl){this.tiktok_bubble=e('<div id="tiktok-pop-loading" class="tiktok"><div class="tt-bg"></div><div class="tt-box"><img src="" alt=""><p></p></div></div>');}else{if(!n.settings.content.picurl){this.tiktok_bubble=e('<div id="tiktok-pop-loading" class="tiktok"><div class="tt-bg"></div><div class="tt-box"><div class="tt-img"></div><p></p></div></div>');}}break;case"popbox":this.tiktok_bubble=e('<div id="tiktok-pop" class="tiktok"><div class="tt-bg"></div><div class="tt-box"><div class="tt-box-header"></div><p></p><div class="tt-button"></a><a href="javascript:void(0);" id="tt-btn-confirm" class="tt-status-default" data-bool="true">'+n.settings.buttonConfirm+"</a></div></div></div>");break;default:break;}}return this.tiktok_bubble;},show:function(){var n=this.tooltip(),p=this,o=this.element,q=e(h);if(e.isFunction(p.settings.onBeforeShow)){p.settings.onBeforeShow(e(this));}switch(p.settings.type){case"floattip":n.css({backgroundColor:p.settings.themeColor}).hide();n.find("p").html(p.content().content);p.timeout=h.setTimeout(function(){o.after(n);m(p);q.resize(function(){m(p);});n.stop(true,true).fadeIn(p.settings.animateSpeed,function(){p.mode="show";if(e.isFunction(p.settings.onShow)){p.settings.onShow(e(this));}});},p.settings.delay);break;case"poptip":n.find("p").html(p.content().content);p.timeout=h.setTimeout(function(){o.after(n);j("."+g);q.resize(function(){j("."+g);});n.stop(true,true).fadeIn(p.settings.animateSpeed,function(){p.mode="show";if(e.isFunction(p.settings.onShow)){p.settings.onShow(e(this));}});n.find(".tt-close").on("click",function(){p.hide();});},p.settings.delay);break;case"poptext":case"popbox":n.find(".tt-box-header").css({backgroundColor:p.settings.themeColor,textAlign:p.settings.headerAlign});n.find("p").css({textAlign:p.settings.contentAlign});n.hide();if(p.content().title==""){n.find(".tt-box-header").remove();}else{n.find(".tt-box-header").html(p.content().title);}n.find("p").html(p.content().content);f();p.timeout=h.setTimeout(function(){o.after(n);if(n.find("p").height()!=0){n.find("p").height(Math.min(n.find("p").height(),i.body.clientHeight-200));}n.stop(true,true).fadeIn(p.settings.animateSpeed,function(){p.mode="show";if(e.isFunction(p.settings.onShow)){p.settings.onShow(e(this));}});d("."+g+" .tt-box");j("."+g+" .tt-box");q.resize(function(){j("."+g+" .tt-box");d("."+g+" .tt-box");});n.find("#tt-btn-cancel").on("click",function(){o.attr("data-bool",e(this).attr("data-bool"));if(e.isFunction(p.settings.onCancel)){p.settings.onCancel(e(this));}p.hide();});n.find("#tt-btn-confirm").on("click",function(){o.attr("data-bool",e(this).attr("data-bool"));if(e.isFunction(p.settings.onConfirm)){p.settings.onConfirm(e(this));}p.hide();});},p.settings.delay);break;case"popload":n.find(".tt-box").css({backgroundColor:p.settings.themeColor});n.hide();n.find("p").html(p.content().content);n.find("img").attr("src",p.content().picurl);f();p.timeout=h.setTimeout(function(){o.after(n);j("."+g+" .tt-box");d("."+g+" .tt-box");q.resize(function(){j("."+g+" .tt-box");d("."+g+" .tt-box");});n.stop(true,true).fadeIn(p.settings.animateSpeed,function(){p.mode="show";if(e.isFunction(p.settings.onShow)){p.settings.onShow(e(this));}});},p.settings.delay);break;default:break;}},hide:function(){var o=this,n=this.tooltip();h.clearTimeout(o.timeout);o.timegout=null;n.stop(true,true).fadeOut(o.settings.animateSpeed,function(){e(this).remove();if(e.isFunction(o.settings.onHide)&&o.mode=="show"){o.settings.onHide(e(this));}o.mode="hide";});a();},destroy:function(){var n=this.element;n.off("."+g);n.removeData(g);},content:function(){var o,n=this.element,p=this,q=this._title;if(p.settings.ajaxContentUrl){o=e.ajax({type:"GET",url:p.settings.ajaxContentUrl,async:false}).responseText;}else{if(p.settings.content){o=p.settings.content;}}return o;},update:function(n,o){var p=this;if(o){p.settings[n]=o;}else{return p.settings[n];}}});function k(){var o=h.navigator.msMaxTouchPoints;var n="ontouchstart" in i.createElement("div");if(o||n){return true;}return false;}function j(n){e(n).css("margin-left",-e(n).width()/2);}function d(n){e(n).css("margin-top",-e(n).height()/2);}function f(){var n=e("html").outerWidth()-e("html").innerWidth();e(i.body).css("border-right",n+"px solid transparent");e("html").css("overflow","hidden");}function a(){e(i.body).css("border-right","0");e("html").css("overflow","auto");}function m(u){var z=u.tooltip(),n=u.element,r=u,o=e(h);var q=n.position().top;var v=n.position().left;var p=n.width();var w=n.height();var t=parseInt(n.css("marginTop"));var y=parseInt(n.css("marginLeft"));var x=z.width();var s=z.height();switch(r.settings.position){case"top":z.css({left:p/2+v,top:q-18,"margin-left":y-x/2,"margin-top":t-s});break;case"bottom":z.css({left:p/2+v,top:q+s+w+18,"margin-left":y-x/2,"margin-top":t-s});break;case"left":z.css({left:v-x-18+y,top:q+s,"margin-left":0,"margin-top":t-s});break;case"right":z.css({left:v+p+18+y,top:q+s,"margin-left":0,"margin-top":t-s});break;default:break;}}e[g]=e.fn[g]=function(o){var n=arguments;if(o===b||typeof o==="object"){if(!(this instanceof e)){e.extend(c,o);}return this.each(function(){if(!e.data(this,"plugin_"+g)){e.data(this,"plugin_"+g,new l(this,o));}});}else{if(typeof o==="string"&&o[0]!=="_"&&o!=="init"){var p;this.each(function(){var q=e.data(this,"plugin_"+g);if(!q){q=e.data(this,"plugin_"+g,new l(this,o));}if(q instanceof l&&typeof q[o]==="function"){p=q[o].apply(q,Array.prototype.slice.call(n,1));}if(o==="destroy"){e.data(this,"plugin_"+g,null);}});return p!==b?p:this;}}};})(jQuery,window,document);